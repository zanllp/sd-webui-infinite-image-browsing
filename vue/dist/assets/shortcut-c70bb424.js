import{dx as L,a as b,P as Q,d as D,j as R,u as W,aw as Y,bj as Z,bm as ee,o as ae,w as ne,r as w,f as te,_ as N,ao as U,h as S,c as G,m as T,G as E,ay as re,i as ue}from"./index-214c37f1.js";import{V as le}from"./Checkbox-f143d30a.js";function oe(n,e){var r=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!r){if(Array.isArray(n)||(r=L(n))||e&&n&&typeof n.length=="number"){r&&(n=r);var d=0,i=function(){};return{s:i,n:function(){return d>=n.length?{done:!0}:{done:!1,value:n[d++]}},e:function(o){throw o},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var g=!0,y=!1,x;return{s:function(){r=r.call(n)},n:function(){var o=r.next();return g=o.done,o},e:function(o){y=!0,x=o},f:function(){try{!g&&r.return!=null&&r.return()}finally{if(y)throw x}}}}var ie=function(){return{name:String,prefixCls:String,options:{type:Array,default:function(){return[]}},disabled:Boolean,id:String}},ce=function(){return b(b({},ie()),{},{defaultValue:{type:Array},value:{type:Array},onChange:{type:Function},"onUpdate:value":{type:Function}})},se=function(){return{prefixCls:String,defaultChecked:{type:Boolean,default:void 0},checked:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},isGroup:{type:Boolean,default:void 0},value:Q.any,name:String,id:String,indeterminate:{type:Boolean,default:void 0},type:{type:String,default:"checkbox"},autofocus:{type:Boolean,default:void 0},onChange:Function,"onUpdate:checked":Function,onClick:Function,skipGroup:{type:Boolean,default:!1}}},de=function(){return b(b({},se()),{},{indeterminate:{type:Boolean,default:!1}})},H=Symbol("CheckboxGroupContext"),fe=["indeterminate","skipGroup","id"],ve=["onMouseenter","onMouseleave","onInput","class","style"];const M=D({compatConfig:{MODE:3},name:"ACheckbox",inheritAttrs:!1,__ANT_CHECKBOX:!0,props:de(),setup:function(e,r){var d=r.emit,i=r.attrs,g=r.slots,y=r.expose,x=R(),c=W("checkbox",e),o=c.prefixCls,h=c.direction,u=Y(H,void 0),k=Symbol("checkboxUniId");Z(function(){!e.skipGroup&&u&&u.registerValue(k,e.value)}),ee(function(){u&&u.cancelValue(k)}),ae(function(){ne(e.checked!==void 0||u||e.value===void 0,"Checkbox","`value` is not validate prop, do you mean `checked`?")});var _=function(a){var t=a.target.checked;d("update:checked",t),d("change",a)},V=w(),j=function(){var a;(a=V.value)===null||a===void 0||a.focus()},P=function(){var a;(a=V.value)===null||a===void 0||a.blur()};return y({focus:j,blur:P}),function(){var m,a,t=te((m=g.default)===null||m===void 0?void 0:m.call(g)),s=e.indeterminate,f=e.skipGroup,v=e.id,l=v===void 0?x.id.value:v,C=N(e,fe),A=i.onMouseenter,O=i.onMouseleave;i.onInput;var I=i.class,X=i.style,q=N(i,ve),p=b(b({},C),{},{id:l,prefixCls:o.value},q);u&&!f?(p.onChange=function(){for(var $=arguments.length,K=new Array($),B=0;B<$;B++)K[B]=arguments[B];d.apply(void 0,["change"].concat(K)),u.toggleOption({label:t,value:e.value})},p.name=u.name.value,p.checked=u.mergedValue.value.indexOf(e.value)!==-1,p.disabled=e.disabled||u.disabled.value,p.indeterminate=s):p.onChange=_;var z=U((a={},S(a,"".concat(o.value,"-wrapper"),!0),S(a,"".concat(o.value,"-rtl"),h.value==="rtl"),S(a,"".concat(o.value,"-wrapper-checked"),p.checked),S(a,"".concat(o.value,"-wrapper-disabled"),p.disabled),a),I),J=U(S({},"".concat(o.value,"-indeterminate"),s));return G("label",{class:z,style:X,onMouseenter:A,onMouseleave:O},[G(le,b(b({},p),{},{class:J,ref:V}),null),t.length?G("span",null,[t]):null])}}}),F=D({compatConfig:{MODE:3},name:"ACheckboxGroup",props:ce(),setup:function(e,r){var d=r.slots,i=r.emit,g=r.expose,y=R(),x=W("checkbox",e),c=x.prefixCls,o=x.direction,h=w((e.value===void 0?e.defaultValue:e.value)||[]);T(function(){return e.value},function(){h.value=e.value||[]});var u=E(function(){return e.options.map(function(a){return typeof a=="string"||typeof a=="number"?{label:a,value:a}:a})}),k=w(Symbol()),_=w(new Map),V=function(t){_.value.delete(t),k.value=Symbol()},j=function(t,s){_.value.set(t,s),k.value=Symbol()},P=w(new Map);T(k,function(){var a=new Map,t=oe(_.value.values()),s;try{for(t.s();!(s=t.n()).done;){var f=s.value;a.set(f,!0)}}catch(v){t.e(v)}finally{t.f()}P.value=a});var m=function(t){var s=h.value.indexOf(t.value),f=ue(h.value);s===-1?f.push(t.value):f.splice(s,1),e.value===void 0&&(h.value=f);var v=f.filter(function(l){return P.value.has(l)}).sort(function(l,C){var A=u.value.findIndex(function(I){return I.value===l}),O=u.value.findIndex(function(I){return I.value===C});return A-O});i("update:value",v),i("change",v),y.onFieldChange()};return re(H,{cancelValue:V,registerValue:j,toggleOption:m,mergedValue:h,name:E(function(){return e.name}),disabled:E(function(){return e.disabled})}),g({mergedValue:h}),function(){var a,t=e.id,s=t===void 0?y.id.value:t,f=null,v="".concat(c.value,"-group");return u.value&&u.value.length>0&&(f=u.value.map(function(l){var C;return G(M,{prefixCls:c.value,key:l.value.toString(),disabled:"disabled"in l?l.disabled:e.disabled,indeterminate:l.indeterminate,value:l.value,checked:h.value.indexOf(l.value)!==-1,onChange:l.onChange,class:"".concat(v,"-item")},{default:function(){return[l.label===void 0?(C=d.label)===null||C===void 0?void 0:C.call(d,l):l.label]}})})),G("div",{class:[v,S({},"".concat(v,"-rtl"),o.value==="rtl")],id:s},[f||((a=d.default)===null||a===void 0?void 0:a.call(d))])}}});M.Group=F;M.install=function(n){return n.component(M.name,M),n.component(F.name,F),n};const me=n=>{const e=[];return n.shiftKey&&e.push("Shift"),n.ctrlKey&&e.push("Ctrl"),n.metaKey&&e.push("Cmd"),(n.code.startsWith("Key")||n.code.startsWith("Digit"))&&e.push(n.code),n.key==="Escape"&&e.push("Esc"),e.join(" + ")};export{M as C,F as _,me as g};
