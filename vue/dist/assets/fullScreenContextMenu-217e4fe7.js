import{d as fe,bq as he,aI as ye,bX as be,ax as we,aC as X,bY as Oe,bZ as K,e as R,c as o,_ as _e,h as M,a as ee,bz as Ee,P as te,ag as A,aw as Le,aM as $e,l as ve,k as Se,$ as j,ao as U,bO as Pe,b_ as xe,b$ as Ce,ai as D,o as p,y,p as N,r as s,m as I,n as f,L as ne,c0 as Me,C as k,z as W,x as h,v,t as ie,A as V,N as ae,B as ke,q as ze,V as re,W as De,c1 as Ne,M as Ae,X as je}from"./index-dda7184d.js";import{i as Te,j as Ie,_ as We,D as Be}from"./FileItem-ba4545b5.js";import"./functionalCallableComp-9395a4a4.js";var Fe=["class","style"],Ue=function(){return{prefixCls:String,spinning:{type:Boolean,default:void 0},size:String,wrapperClassName:String,tip:te.any,delay:Number,indicator:te.any}},B=null;function Ve(e,t){return!!e&&!!t&&!isNaN(Number(t))}function kt(e){var t=e.indicator;B=typeof t=="function"?t:function(){return o(t,null,null)}}const zt=fe({compatConfig:{MODE:3},name:"ASpin",inheritAttrs:!1,props:he(Ue(),{size:"default",spinning:!0,wrapperClassName:""}),setup:function(){return{originalUpdateSpinning:null,configProvider:ye("configProvider",be)}},data:function(){var t=this.spinning,a=this.delay,n=Ve(t,a);return{sSpinning:t&&!n}},created:function(){this.originalUpdateSpinning=this.updateSpinning,this.debouncifyUpdateSpinning(this.$props)},mounted:function(){this.updateSpinning()},updated:function(){var t=this;we(function(){t.debouncifyUpdateSpinning(),t.updateSpinning()})},beforeUnmount:function(){this.cancelExistingSpin()},methods:{debouncifyUpdateSpinning:function(t){var a=t||this.$props,n=a.delay;n&&(this.cancelExistingSpin(),this.updateSpinning=X(this.originalUpdateSpinning,n))},updateSpinning:function(){var t=this.spinning,a=this.sSpinning;a!==t&&(this.sSpinning=t)},cancelExistingSpin:function(){var t=this.updateSpinning;t&&t.cancel&&t.cancel()},renderIndicator:function(t){var a="".concat(t,"-dot"),n=Oe(this,"indicator");return n===null?null:(Array.isArray(n)&&(n=n.length===1?n[0]:n),K(n)?R(n,{class:a}):B&&K(B())?R(B(),{class:a}):o("span",{class:"".concat(a," ").concat(t,"-dot-spin")},[o("i",{class:"".concat(t,"-dot-item")},null),o("i",{class:"".concat(t,"-dot-item")},null),o("i",{class:"".concat(t,"-dot-item")},null),o("i",{class:"".concat(t,"-dot-item")},null)]))}},render:function(){var t,a,n,l=this.$props,L=l.size,z=l.prefixCls,P=l.tip,x=P===void 0?(t=(a=this.$slots).tip)===null||t===void 0?void 0:t.call(a):P,b=l.wrapperClassName,$=this.$attrs,C=$.class,O=$.style,_=_e($,Fe),u=this.configProvider,E=u.getPrefixCls,S=u.direction,m=E("spin",z),i=this.sSpinning,r=(n={},M(n,m,!0),M(n,"".concat(m,"-sm"),L==="small"),M(n,"".concat(m,"-lg"),L==="large"),M(n,"".concat(m,"-spinning"),i),M(n,"".concat(m,"-show-text"),!!x),M(n,"".concat(m,"-rtl"),S==="rtl"),M(n,C,!!C),n),c=o("div",ee(ee({},_),{},{style:O,class:r}),[this.renderIndicator(m),x?o("div",{class:"".concat(m,"-text")},[x]):null]),w=Ee(this);if(w&&w.length){var g,F=(g={},M(g,"".concat(m,"-container"),!0),M(g,"".concat(m,"-blur"),i),g);return o("div",{class:["".concat(m,"-nested-loading"),b]},[i&&o("div",{key:"loading"},[c]),o("div",{class:F,key:"container"},[w])])}return c}});var Xe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M855 160.1l-189.2 23.5c-6.6.8-9.3 8.8-4.7 13.5l54.7 54.7-153.5 153.5a8.03 8.03 0 000 11.3l45.1 45.1c3.1 3.1 8.2 3.1 11.3 0l153.6-153.6 54.7 54.7a7.94 7.94 0 0013.5-4.7L863.9 169a7.9 7.9 0 00-8.9-8.9zM416.6 562.3a8.03 8.03 0 00-11.3 0L251.8 715.9l-54.7-54.7a7.94 7.94 0 00-13.5 4.7L160.1 855c-.6 5.2 3.7 9.5 8.9 8.9l189.2-23.5c6.6-.8 9.3-8.8 4.7-13.5l-54.7-54.7 153.6-153.6c3.1-3.1 3.1-8.2 0-11.3l-45.2-45z"}}]},name:"arrows-alt",theme:"outlined"};const He=Xe;function le(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?Object(arguments[t]):{},n=Object.keys(a);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(l){return Object.getOwnPropertyDescriptor(a,l).enumerable}))),n.forEach(function(l){Ye(e,l,a[l])})}return e}function Ye(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var H=function(t,a){var n=le({},t,a.attrs);return o(A,le({},n,{icon:He}),null)};H.displayName="ArrowsAltOutlined";H.inheritAttrs=!1;const qe=H;var Ge={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.3 506.3L781.7 405.6a7.23 7.23 0 00-11.7 5.7V476H548V254h64.8c6 0 9.4-7 5.7-11.7L517.7 114.7a7.14 7.14 0 00-11.3 0L405.6 242.3a7.23 7.23 0 005.7 11.7H476v222H254v-64.8c0-6-7-9.4-11.7-5.7L114.7 506.3a7.14 7.14 0 000 11.3l127.5 100.8c4.7 3.7 11.7.4 11.7-5.7V548h222v222h-64.8c-6 0-9.4 7-5.7 11.7l100.8 127.5c2.9 3.7 8.5 3.7 11.3 0l100.8-127.5c3.7-4.7.4-11.7-5.7-11.7H548V548h222v64.8c0 6 7 9.4 11.7 5.7l127.5-100.8a7.3 7.3 0 00.1-11.4z"}}]},name:"drag",theme:"outlined"};const Qe=Ge;function oe(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?Object(arguments[t]):{},n=Object.keys(a);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(l){return Object.getOwnPropertyDescriptor(a,l).enumerable}))),n.forEach(function(l){Ze(e,l,a[l])})}return e}function Ze(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Y=function(t,a){var n=oe({},t,a.attrs);return o(A,oe({},n,{icon:Qe}),null)};Y.displayName="DragOutlined";Y.inheritAttrs=!1;const Je=Y;var Ke={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M391 240.9c-.8-6.6-8.9-9.4-13.6-4.7l-43.7 43.7L200 146.3a8.03 8.03 0 00-11.3 0l-42.4 42.3a8.03 8.03 0 000 11.3L280 333.6l-43.9 43.9a8.01 8.01 0 004.7 13.6L401 410c5.1.6 9.5-3.7 8.9-8.9L391 240.9zm10.1 373.2L240.8 633c-6.6.8-9.4 8.9-4.7 13.6l43.9 43.9L146.3 824a8.03 8.03 0 000 11.3l42.4 42.3c3.1 3.1 8.2 3.1 11.3 0L333.7 744l43.7 43.7A8.01 8.01 0 00391 783l18.9-160.1c.6-5.1-3.7-9.4-8.8-8.8zm221.8-204.2L783.2 391c6.6-.8 9.4-8.9 4.7-13.6L744 333.6 877.7 200c3.1-3.1 3.1-8.2 0-11.3l-42.4-42.3a8.03 8.03 0 00-11.3 0L690.3 279.9l-43.7-43.7a8.01 8.01 0 00-13.6 4.7L614.1 401c-.6 5.2 3.7 9.5 8.8 8.9zM744 690.4l43.9-43.9a8.01 8.01 0 00-4.7-13.6L623 614c-5.1-.6-9.5 3.7-8.9 8.9L633 783.1c.8 6.6 8.9 9.4 13.6 4.7l43.7-43.7L824 877.7c3.1 3.1 8.2 3.1 11.3 0l42.4-42.3c3.1-3.1 3.1-8.2 0-11.3L744 690.4z"}}]},name:"fullscreen-exit",theme:"outlined"};const Re=Ke;function se(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?Object(arguments[t]):{},n=Object.keys(a);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(l){return Object.getOwnPropertyDescriptor(a,l).enumerable}))),n.forEach(function(l){et(e,l,a[l])})}return e}function et(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var q=function(t,a){var n=se({},t,a.attrs);return o(A,se({},n,{icon:Re}),null)};q.displayName="FullscreenExitOutlined";q.inheritAttrs=!1;const tt=q;var nt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M290 236.4l43.9-43.9a8.01 8.01 0 00-4.7-13.6L169 160c-5.1-.6-9.5 3.7-8.9 8.9L179 329.1c.8 6.6 8.9 9.4 13.6 4.7l43.7-43.7L370 423.7c3.1 3.1 8.2 3.1 11.3 0l42.4-42.3c3.1-3.1 3.1-8.2 0-11.3L290 236.4zm352.7 187.3c3.1 3.1 8.2 3.1 11.3 0l133.7-133.6 43.7 43.7a8.01 8.01 0 0013.6-4.7L863.9 169c.6-5.1-3.7-9.5-8.9-8.9L694.8 179c-6.6.8-9.4 8.9-4.7 13.6l43.9 43.9L600.3 370a8.03 8.03 0 000 11.3l42.4 42.4zM845 694.9c-.8-6.6-8.9-9.4-13.6-4.7l-43.7 43.7L654 600.3a8.03 8.03 0 00-11.3 0l-42.4 42.3a8.03 8.03 0 000 11.3L734 787.6l-43.9 43.9a8.01 8.01 0 004.7 13.6L855 864c5.1.6 9.5-3.7 8.9-8.9L845 694.9zm-463.7-94.6a8.03 8.03 0 00-11.3 0L236.3 733.9l-43.7-43.7a8.01 8.01 0 00-13.6 4.7L160.1 855c-.6 5.1 3.7 9.5 8.9 8.9L329.2 845c6.6-.8 9.4-8.9 4.7-13.6L290 787.6 423.7 654c3.1-3.1 3.1-8.2 0-11.3l-42.4-42.4z"}}]},name:"fullscreen",theme:"outlined"};const it=nt;function ue(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?Object(arguments[t]):{},n=Object.keys(a);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(l){return Object.getOwnPropertyDescriptor(a,l).enumerable}))),n.forEach(function(l){at(e,l,a[l])})}return e}function at(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var G=function(t,a){var n=ue({},t,a.attrs);return o(A,ue({},n,{icon:it}),null)};G.displayName="FullscreenOutlined";G.inheritAttrs=!1;const rt=G;var lt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M603.3 327.5l-246 178a7.95 7.95 0 000 12.9l246 178c5.3 3.8 12.7 0 12.7-6.5V643c0-10.2-4.9-19.9-13.2-25.9L457.4 512l145.4-105.2c8.3-6 13.2-15.6 13.2-25.9V334c0-6.5-7.4-10.3-12.7-6.5z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"left-circle",theme:"outlined"};const ot=lt;function ce(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?Object(arguments[t]):{},n=Object.keys(a);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(l){return Object.getOwnPropertyDescriptor(a,l).enumerable}))),n.forEach(function(l){st(e,l,a[l])})}return e}function st(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Q=function(t,a){var n=ce({},t,a.attrs);return o(A,ce({},n,{icon:ot}),null)};Q.displayName="LeftCircleOutlined";Q.inheritAttrs=!1;const Dt=Q;var ut={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M666.7 505.5l-246-178A8 8 0 00408 334v46.9c0 10.2 4.9 19.9 13.2 25.9L566.6 512 421.2 617.2c-8.3 6-13.2 15.6-13.2 25.9V690c0 6.5 7.4 10.3 12.7 6.5l246-178c4.4-3.2 4.4-9.8 0-13z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"right-circle",theme:"outlined"};const ct=ut;function de(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?Object(arguments[t]):{},n=Object.keys(a);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(l){return Object.getOwnPropertyDescriptor(a,l).enumerable}))),n.forEach(function(l){dt(e,l,a[l])})}return e}function dt(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Z=function(t,a){var n=de({},t,a.attrs);return o(A,de({},n,{icon:ct}),null)};Z.displayName="RightCircleOutlined";Z.inheritAttrs=!1;const Nt=Z;function ft(e,t,a,n){let l=0,L=0,z=typeof(n==null?void 0:n.width)=="number"?n.width:0,P=typeof(n==null?void 0:n.height)=="number"?n.height:0,x=typeof(n==null?void 0:n.left)=="number"?n.left:0,b=typeof(n==null?void 0:n.top)=="number"?n.top:0,$=!1;const C=i=>{i.stopPropagation(),i.preventDefault(),!(!e.value||!t.value)&&(l=i instanceof MouseEvent?i.clientX:i.touches[0].clientX,L=i instanceof MouseEvent?i.clientY:i.touches[0].clientY,z=e.value.offsetWidth,P=e.value.offsetHeight,t.value.offsetLeft,t.value.offsetTop,document.documentElement.addEventListener("mousemove",O),document.documentElement.addEventListener("touchmove",O),document.documentElement.addEventListener("mouseup",_),document.documentElement.addEventListener("touchend",_))},O=i=>{if(!e.value||!t.value)return;let r=z+((i instanceof MouseEvent?i.clientX:i.touches[0].clientX)-l),c=P+((i instanceof MouseEvent?i.clientY:i.touches[0].clientY)-L);e.value.offsetLeft+r>window.innerWidth&&(r=window.innerWidth-e.value.offsetLeft),e.value.offsetTop+c>window.innerHeight&&(c=window.innerHeight-e.value.offsetTop),e.value.style.width=`${r}px`,e.value.style.height=`${c}px`,n!=null&&n.onResize&&n.onResize(r,c)},_=()=>{document.documentElement.removeEventListener("mousemove",O),document.documentElement.removeEventListener("touchmove",O),document.documentElement.removeEventListener("mouseup",_),document.documentElement.removeEventListener("touchend",_)},u=i=>{i.stopPropagation(),i.preventDefault(),!(!e.value||!a.value)&&($=!0,x=e.value.offsetLeft,b=e.value.offsetTop,l=i instanceof MouseEvent?i.clientX:i.touches[0].clientX,L=i instanceof MouseEvent?i.clientY:i.touches[0].clientY,document.documentElement.addEventListener("mousemove",E),document.documentElement.addEventListener("touchmove",E),document.documentElement.addEventListener("mouseup",S),document.documentElement.addEventListener("touchend",S))},E=i=>{if(!e.value||!a.value||!$)return;const r=x+((i instanceof MouseEvent?i.clientX:i.touches[0].clientX)-l),c=b+((i instanceof MouseEvent?i.clientY:i.touches[0].clientY)-L);r<0?e.value.style.left="0px":r+e.value.offsetWidth>window.innerWidth?e.value.style.left=`${window.innerWidth-e.value.offsetWidth}px`:e.value.style.left=`${r}px`,c<0?e.value.style.top="0px":c+e.value.offsetHeight>window.innerHeight?e.value.style.top=`${window.innerHeight-e.value.offsetHeight}px`:e.value.style.top=`${c}px`,n!=null&&n.onDrag&&n.onDrag(r,c)},S=()=>{$=!1,document.documentElement.removeEventListener("mousemove",E),document.documentElement.removeEventListener("touchmove",E),document.documentElement.removeEventListener("mouseup",S),document.documentElement.removeEventListener("touchend",S)},m=()=>{if(!e.value||!t.value)return;let i=e.value.offsetLeft,r=e.value.offsetTop,c=e.value.offsetWidth,w=e.value.offsetHeight;i+c>window.innerWidth&&(i=window.innerWidth-c,i<0&&(i=0,c=window.innerWidth)),r+w>window.innerHeight&&(r=window.innerHeight-w,r<0&&(r=0,w=window.innerHeight)),e.value.style.left=`${i}px`,e.value.style.top=`${r}px`,e.value.style.width=`${c}px`,e.value.style.height=`${w}px`};return Le(()=>{!e.value||!n||(typeof n.width=="number"&&(e.value.style.width=`${n.width}px`),typeof n.height=="number"&&(e.value.style.height=`${n.height}px`),typeof n.left=="number"&&(e.value.style.left=`${n.left}px`),typeof n.top=="number"&&(e.value.style.top=`${n.top}px`),m(),window.addEventListener("resize",m))}),$e(()=>{document.documentElement.removeEventListener("mousemove",O),document.documentElement.removeEventListener("touchmove",O),document.documentElement.removeEventListener("mouseup",_),document.documentElement.removeEventListener("touchend",_),document.documentElement.removeEventListener("mousemove",E),document.documentElement.removeEventListener("touchmove",E),document.documentElement.removeEventListener("mouseup",S),document.documentElement.removeEventListener("touchend",S),window.removeEventListener("resize",m)}),ve(()=>[e.value,t.value,a.value],([i,r,c])=>{i&&r&&(r.addEventListener("mousedown",C),r.addEventListener("touchstart",C)),i&&c&&(c.addEventListener("mousedown",u),c.addEventListener("touchstart",u))}),{handleResizeMouseDown:C,handleDragMouseDown:u}}const vt={class:"container"},pt={class:"action-bar"},mt=["title"],gt=["title"],ht={key:0,class:"icon",style:{cursor:"pointer"}},yt={key:0,"flex-placeholder":""},bt={key:1,class:"action-bar"},wt={key:0,class:"gen-info"},Ot={class:"info-tags"},_t={class:"name"},Et={class:"value"},Lt={key:0,class:"tags-container"},$t=["onClick"],St=["title"],Pt=fe({__name:"fullScreenContextMenu",props:{file:{},idx:{}},emits:["contextMenuClick"],setup(e,{emit:t}){const a=e,n=Se(),l=Te(),L=j(),z=U(()=>l.tagMap.get(a.file.fullpath)??[]),P=j(""),x=Pe(),b=j(""),$=U(()=>b.value.split(`
`));ve(()=>{var i;return(i=a==null?void 0:a.file)==null?void 0:i.fullpath},async i=>{i&&(x.tasks.forEach(r=>r.cancel()),x.pushAction(()=>xe(i)).res.then(r=>{b.value=r}))},{immediate:!0});const C=j(),O=j(),_={left:100,top:100,width:512,height:384,expanded:!0},u=Ce("fullScreenContextMenu.vue-drag",_);u.value&&(u.value.left<0||u.value.top<0)&&(u.value={..._}),ft(L,C,O,{...u.value,onDrag:X(function(i,r){u.value={...u.value,left:i,top:r}},300),onResize:X(function(i,r){u.value={...u.value,width:i,height:r}},300)});function E(i){return i.parentNode}Ie("load",i=>{const r=i.target;r.className==="ant-image-preview-img"&&(P.value=`${r.naturalWidth} x ${r.naturalHeight}`)},{capture:!0});const S=U(()=>{const i=[{name:D("fileName"),val:a.file.name},{name:D("fileSize"),val:a.file.size}];return P.value&&i.push({name:D("resolution"),val:P.value}),i}),m=()=>{const i="Negative prompt:",r=b.value.includes(i)?b.value.split(i)[0]:$.value[0]??"";ie(r.trim())};return(i,r)=>{var J;const c=Be,w=re,g=De,F=Ne,pe=Ae,me=re;return p(),y("div",{ref_key:"el",ref:L,class:ae(["full-screen-menu",{"unset-size":!s(u).expanded}]),onWheelCapture:r[5]||(r[5]=ze(()=>{},["stop"]))},[N("div",vt,[N("div",pt,[N("div",{ref_key:"dragHandle",ref:O,class:"icon",style:{cursor:"grab"},title:s(D)("dragToMovePanel")},[o(s(Je))],8,mt),N("div",{class:"icon",style:{cursor:"pointer"},onClick:r[0]||(r[0]=d=>s(u).expanded=!s(u).expanded),title:s(D)("clickToToggleMaximizeMinimize")},[s(u).expanded?(p(),I(s(tt),{key:0})):(p(),I(s(rt),{key:1}))],8,gt),o(c,{"get-popup-container":E},{overlay:f(()=>[o(We,{file:i.file,idx:i.idx,"selected-tag":z.value,"disable-delete":s(ne)(i.file)===s(n).fullscreenPreviewInitialUrl,onContextMenuClick:r[1]||(r[1]=(d,T,ge)=>t("contextMenuClick",d,T,ge))},null,8,["file","idx","selected-tag","disable-delete"])]),default:f(()=>[s(u).expanded?k("",!0):(p(),y("div",ht,[o(s(Me))]))]),_:1}),s(u).expanded?(p(),y("div",yt)):k("",!0),s(u).expanded?(p(),y("div",bt,[o(c,{trigger:["hover"],"get-popup-container":E},{overlay:f(()=>[o(pe,{onClick:r[2]||(r[2]=d=>t("contextMenuClick",d,i.file,i.idx))},{default:f(()=>{var d;return[((d=s(n).conf)==null?void 0:d.launch_mode)!=="server"?(p(),y(W,{key:0},[o(g,{key:"send2txt2img"},{default:f(()=>[h(v(i.$t("sendToTxt2img")),1)]),_:1}),o(g,{key:"send2img2img"},{default:f(()=>[h(v(i.$t("sendToImg2img")),1)]),_:1}),o(g,{key:"send2inpaint"},{default:f(()=>[h(v(i.$t("sendToInpaint")),1)]),_:1}),o(g,{key:"send2extras"},{default:f(()=>[h(v(i.$t("sendToExtraFeatures")),1)]),_:1}),o(F,{key:"sendToThirdPartyExtension",title:i.$t("sendToThirdPartyExtension")},{default:f(()=>[o(g,{key:"send2controlnet-txt2img"},{default:f(()=>[h("ControlNet - "+v(i.$t("t2i")),1)]),_:1}),o(g,{key:"send2controlnet-img2img"},{default:f(()=>[h("ControlNet - "+v(i.$t("i2i")),1)]),_:1}),o(g,{key:"send2outpaint"},{default:f(()=>[h("openOutpaint")]),_:1})]),_:1},8,["title"])],64)):k("",!0),o(g,{key:"send2BatchDownload"},{default:f(()=>[h(v(i.$t("sendToBatchDownload")),1)]),_:1}),o(g,{key:"send2savedDir"},{default:f(()=>[h(v(i.$t("send2savedDir")),1)]),_:1}),o(g,{key:"deleteFiles",disabled:s(ne)(i.file)===s(n).fullscreenPreviewInitialUrl},{default:f(()=>[h(v(i.$t("deleteSelected")),1)]),_:1},8,["disabled"]),o(g,{key:"previewInNewWindow"},{default:f(()=>[h(v(i.$t("previewInNewWindow")),1)]),_:1}),o(g,{key:"copyPreviewUrl"},{default:f(()=>[h(v(i.$t("copySourceFilePreviewLink")),1)]),_:1})]}),_:1})]),default:f(()=>[o(w,null,{default:f(()=>[h(v(s(D)("openContextMenu")),1)]),_:1})]),_:1}),o(me,{onClick:r[3]||(r[3]=d=>t("contextMenuClick",{key:"download"},a.file,a.idx))},{default:f(()=>[h(v(i.$t("download")),1)]),_:1}),b.value?(p(),I(w,{key:0,onClick:r[4]||(r[4]=d=>s(ie)(b.value))},{default:f(()=>[h(v(i.$t("copyPrompt")),1)]),_:1})):k("",!0),b.value?(p(),I(w,{key:1,onClick:m},{default:f(()=>[h(v(i.$t("copyPositivePrompt")),1)]),_:1})):k("",!0)])):k("",!0)]),s(u).expanded?(p(),y("div",wt,[N("div",Ot,[(p(!0),y(W,null,V(S.value,d=>(p(),y("span",{class:"info-tag",key:d.name},[N("span",_t,v(d.name),1),N("span",Et,v(d.val),1)]))),128))]),(J=s(n).conf)!=null&&J.all_custom_tags?(p(),y("div",Lt,[(p(!0),y(W,null,V(s(n).conf.all_custom_tags,d=>(p(),y("div",{class:ae(["tag",{selected:z.value.some(T=>T.id===d.id)}]),onClick:T=>t("contextMenuClick",{key:`toggle-tag-${d.id}`},i.file,i.idx),key:d.id,style:ke({"--tag-color":s(l).getColor(d.name)})},v(d.name),15,$t))),128))])):k("",!0),(p(!0),y(W,null,V($.value,d=>(p(),y("p",{key:d,class:"gen-info-frag"},v(d),1))),128))])):k("",!0)]),s(u).expanded?(p(),y("div",{key:0,class:"mouse-sensor",ref_key:"resizeHandle",ref:C,title:s(D)("dragToResizePanel")},[o(s(qe))],8,St)):k("",!0)],34)}}});const At=je(Pt,[["__scopeId","data-v-f11ac69d"]]);export{Dt as L,Nt as R,zt as S,At as f,kt as s};
