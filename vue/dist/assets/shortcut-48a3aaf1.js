import{de as L,a as m,P as Q,d as D,j as R,u as W,av as Y,bg as Z,bj as ee,o as ae,w as ne,r as _,f as te,_ as N,an as U,h as S,c as M,m as T,G as E,ax as re,i as ue}from"./index-e52903e1.js";import{V as le}from"./Checkbox-c11e7d8d.js";function oe(n,e){var r=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!r){if(Array.isArray(n)||(r=L(n))||e&&n&&typeof n.length=="number"){r&&(n=r);var d=0,i=function(){};return{s:i,n:function(){return d>=n.length?{done:!0}:{done:!1,value:n[d++]}},e:function(o){throw o},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var g=!0,x=!1,y;return{s:function(){r=r.call(n)},n:function(){var o=r.next();return g=o.done,o},e:function(o){x=!0,y=o},f:function(){try{!g&&r.return!=null&&r.return()}finally{if(x)throw y}}}}var ie=function(){return{name:String,prefixCls:String,options:{type:Array,default:function(){return[]}},disabled:Boolean,id:String}},ce=function(){return m(m({},ie()),{},{defaultValue:{type:Array},value:{type:Array},onChange:{type:Function},"onUpdate:value":{type:Function}})},se=function(){return{prefixCls:String,defaultChecked:{type:Boolean,default:void 0},checked:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},isGroup:{type:Boolean,default:void 0},value:Q.any,name:String,id:String,indeterminate:{type:Boolean,default:void 0},type:{type:String,default:"checkbox"},autofocus:{type:Boolean,default:void 0},onChange:Function,"onUpdate:checked":Function,onClick:Function,skipGroup:{type:Boolean,default:!1}}},de=function(){return m(m({},se()),{},{indeterminate:{type:Boolean,default:!1}})},H=Symbol("CheckboxGroupContext"),fe=["indeterminate","skipGroup","id"],ve=["onMouseenter","onMouseleave","onInput","class","style"];const w=D({compatConfig:{MODE:3},name:"ACheckbox",inheritAttrs:!1,__ANT_CHECKBOX:!0,props:de(),setup:function(e,r){var d=r.emit,i=r.attrs,g=r.slots,x=r.expose,y=R(),c=W("checkbox",e),o=c.prefixCls,h=c.direction,u=Y(H,void 0),k=Symbol("checkboxUniId");Z(function(){!e.skipGroup&&u&&u.registerValue(k,e.value)}),ee(function(){u&&u.cancelValue(k)}),ae(function(){ne(e.checked!==void 0||u||e.value===void 0,"Checkbox","`value` is not validate prop, do you mean `checked`?")});var V=function(a){var t=a.target.checked;d("update:checked",t),d("change",a)},I=_(),j=function(){var a;(a=I.value)===null||a===void 0||a.focus()},P=function(){var a;(a=I.value)===null||a===void 0||a.blur()};return x({focus:j,blur:P}),function(){var b,a,t=te((b=g.default)===null||b===void 0?void 0:b.call(g)),s=e.indeterminate,f=e.skipGroup,v=e.id,l=v===void 0?y.id.value:v,C=N(e,fe),A=i.onMouseenter,O=i.onMouseleave;i.onInput;var G=i.class,X=i.style,q=N(i,ve),p=m(m({},C),{},{id:l,prefixCls:o.value},q);u&&!f?(p.onChange=function(){for(var $=arguments.length,K=new Array($),B=0;B<$;B++)K[B]=arguments[B];d.apply(void 0,["change"].concat(K)),u.toggleOption({label:t,value:e.value})},p.name=u.name.value,p.checked=u.mergedValue.value.indexOf(e.value)!==-1,p.disabled=e.disabled||u.disabled.value,p.indeterminate=s):p.onChange=V;var z=U((a={},S(a,"".concat(o.value,"-wrapper"),!0),S(a,"".concat(o.value,"-rtl"),h.value==="rtl"),S(a,"".concat(o.value,"-wrapper-checked"),p.checked),S(a,"".concat(o.value,"-wrapper-disabled"),p.disabled),a),G),J=U(S({},"".concat(o.value,"-indeterminate"),s));return M("label",{class:z,style:X,onMouseenter:A,onMouseleave:O},[M(le,m(m({},p),{},{class:J,ref:I}),null),t.length?M("span",null,[t]):null])}}}),F=D({compatConfig:{MODE:3},name:"ACheckboxGroup",props:ce(),setup:function(e,r){var d=r.slots,i=r.emit,g=r.expose,x=R(),y=W("checkbox",e),c=y.prefixCls,o=y.direction,h=_((e.value===void 0?e.defaultValue:e.value)||[]);T(function(){return e.value},function(){h.value=e.value||[]});var u=E(function(){return e.options.map(function(a){return typeof a=="string"||typeof a=="number"?{label:a,value:a}:a})}),k=_(Symbol()),V=_(new Map),I=function(t){V.value.delete(t),k.value=Symbol()},j=function(t,s){V.value.set(t,s),k.value=Symbol()},P=_(new Map);T(k,function(){var a=new Map,t=oe(V.value.values()),s;try{for(t.s();!(s=t.n()).done;){var f=s.value;a.set(f,!0)}}catch(v){t.e(v)}finally{t.f()}P.value=a});var b=function(t){var s=h.value.indexOf(t.value),f=ue(h.value);s===-1?f.push(t.value):f.splice(s,1),e.value===void 0&&(h.value=f);var v=f.filter(function(l){return P.value.has(l)}).sort(function(l,C){var A=u.value.findIndex(function(G){return G.value===l}),O=u.value.findIndex(function(G){return G.value===C});return A-O});i("update:value",v),i("change",v),x.onFieldChange()};return re(H,{cancelValue:I,registerValue:j,toggleOption:b,mergedValue:h,name:E(function(){return e.name}),disabled:E(function(){return e.disabled})}),g({mergedValue:h}),function(){var a,t=e.id,s=t===void 0?x.id.value:t,f=null,v="".concat(c.value,"-group");return u.value&&u.value.length>0&&(f=u.value.map(function(l){var C;return M(w,{prefixCls:c.value,key:l.value.toString(),disabled:"disabled"in l?l.disabled:e.disabled,indeterminate:l.indeterminate,value:l.value,checked:h.value.indexOf(l.value)!==-1,onChange:l.onChange,class:"".concat(v,"-item")},{default:function(){return[l.label===void 0?(C=d.label)===null||C===void 0?void 0:C.call(d,l):l.label]}})})),M("div",{class:[v,S({},"".concat(v,"-rtl"),o.value==="rtl")],id:s},[f||((a=d.default)===null||a===void 0?void 0:a.call(d))])}}});w.Group=F;w.install=function(n){return n.component(w.name,w),n.component(F.name,F),n};const be=n=>{const e=[];return n.shiftKey&&e.push("Shift"),n.ctrlKey&&e.push("Ctrl"),n.metaKey&&e.push("Cmd"),(n.code.startsWith("Key")||n.code.startsWith("Digit"))&&e.push(n.code),n.key==="Escape"&&e.push("Esc"),e.join(" + ")};export{w as C,be as g};
